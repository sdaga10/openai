

//Defining Variables
variable "resource_group_name" {
  description = "Name of the resource group to be created"
  type = string
}

variable "location" {
  description = "Location for the resource group to be created"
  type = string
}

//Checking existing resource group
data "azurerm_resource_group" "rg" {
  name = var.resource_group_name
}

//Provisioning resource group
resource "azurerm_resource_group" "rg" {
  name     = var.resource_group_name
  location = var.location

  //Conditional check for existing resource group
  #When the resource group already exists, the provisioning is skipped.
  lifecycle {
    ignore_changes = ["location"]
    create_before_destroy = true
  }
}
