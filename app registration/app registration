

provider "azurerm" {
    version = "~>2.0"
    features {}
}

resource "azurerm_azuread_application" "app_registration" {
    name                = var.app_registration_name
    homepage            = var.app_registration_homepage
    identifier_uris     = [var.app_registration_identifier_uris]
    reply_urls          = [var.app_registration_reply_urls]
    available_to_other_tenants = var.app_registration_available_to_other_tenants
    oauth2_allow_implicit_flow = var.app_registration_oauth2_allow_implicit_flow
    public_client       = var.app_registration_public_client
}

variable "app_registration_name" {
  type = string
  default = ""
}

variable "app_registration_homepage" {
  type = string
  default = ""
}

variable "app_registration_identifier_uris" {
  type = list(string)
  default = []
}

variable "app_registration_reply_urls" {
  type = list(string)
  default = []
}

variable "app_registration_available_to_other_tenants" {
  type = bool
  default = false
}

variable "app_registration_oauth2_allow_implicit_flow" {
  type = bool
  default = false
}

variable "app_registration_public_client" {
  type = bool
  default = false
}
